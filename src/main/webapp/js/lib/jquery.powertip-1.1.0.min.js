(function(a){function f(a,b,c){function f(f,g){i();if(!a.data("hasActiveHover")){if(!f){e.popOpenImminent=true;d=setTimeout(function(){d=null;h(a)},b.intentPollInterval)}else{if(g){a.data("forcedOpen",true)}c.showTip(a)}}}function g(f){i();if(a.data("hasActiveHover")){e.popOpenImminent=false;a.data("forcedOpen",false);if(!f){d=setTimeout(function(){d=null;c.hideTip(a)},b.closeDelay)}else{c.hideTip(a)}}}function h(){var d=Math.abs(e.previousX-e.currentX),g=Math.abs(e.previousY-e.currentY),h=d+g;if(h<b.intentSensitivity){c.showTip(a)}else{e.previousX=e.currentX;e.previousY=e.currentY;f()}}function i(){d=clearTimeout(d)}var d=null;return{show:f,hide:g,cancel:i}}function g(f){function h(a){a.data("hasActiveHover",true);g.queue(function(b){i(a);b()})}function i(c){if(!c.data("hasActiveHover")){return}if(e.isPopOpen){if(!e.isClosing){l(e.activeHover)}g.delay(100).queue(function(a){i(c);a()});return}c.trigger("powerTipPreRender");var d=c.data("powertip"),h=c.data("powertiptarget"),j=c.data("powertipjq"),k=h?a("#"+h):[];if(d){g.html(d)}else if(j&&j.length>0){g.empty();j.clone(true,true).appendTo(g)}else if(k&&k.length>0){g.html(a("#"+h).html())}else{return}c.trigger("powerTipRender");b.on("closePowerTip",function(){c.data("displayController").hide(true)});e.activeHover=c;e.isPopOpen=true;g.data("followMouse",f.followMouse);g.data("mouseOnToPopup",f.mouseOnToPopup);if(!f.followMouse){o(c);e.isFixedPopOpen=true}else{n()}g.fadeIn(f.fadeInTime,function(){if(!e.desyncTimeout){e.desyncTimeout=setInterval(m,500)}c.trigger("powerTipOpen")})}function l(a){e.isClosing=true;a.data("hasActiveHover",false);a.data("forcedOpen",false);e.activeHover=null;e.isPopOpen=false;e.desyncTimeout=clearInterval(e.desyncTimeout);b.off("closePowerTip");g.fadeOut(f.fadeOutTime,function(){e.isClosing=false;e.isFixedPopOpen=false;g.removeClass();q(e.currentX+f.offset,e.currentY+f.offset);a.trigger("powerTipClose")})}function m(){if(e.isPopOpen&&!e.isClosing){var a=false;if(e.activeHover.data("hasActiveHover")===false){a=true}else{if(!j(e.activeHover)&&!e.activeHover.is(":focus")&&!e.activeHover.data("forcedOpen")){if(g.data("mouseOnToPopup")){if(!j(g)){a=true}}else{a=true}}}if(a){l(e.activeHover)}}}function n(){if(e.isPopOpen&&!e.isFixedPopOpen||e.popOpenImminent&&!e.isFixedPopOpen&&g.data("hasMouseMove")){var a=c.scrollTop(),b=c.width(),d=c.height(),h=g.outerWidth(),i=g.outerHeight(),j=0,k=0;if(h+e.currentX+f.offset<b){j=e.currentX+f.offset}else{j=b-h}if(i+e.currentY+f.offset<a+d){k=e.currentY+f.offset}else{k=a+d-i}q(j,k)}}function o(b){var c=g.outerWidth(),d=g.outerHeight(),e,h,i,j;if(f.smartPlacement){e=a.fn.powerTip.smartPlacementLists[f.placement];a.each(e,function(a,e){h=p(b,e,c,d);i=e;j=k(h,c,d);if(j.length===0){return false}})}else{h=p(b,f.placement,c,d);i=f.placement}g.addClass(i);q(h.x,h.y)}function p(a,b,c,d){var e=a.offset(),g=a.outerWidth(),h=a.outerHeight(),i=0,j=0;switch(b){case"n":i=e.left+g/2-c/2;j=e.top-d-f.offset;break;case"e":i=e.left+g+f.offset;j=e.top+h/2-d/2;break;case"s":i=e.left+g/2-c/2;j=e.top+h+f.offset;break;case"w":i=e.left-c-f.offset;j=e.top+h/2-d/2;break;case"nw":i=e.left-c+20;j=e.top-d-f.offset;break;case"ne":i=e.left+g-20;j=e.top-d-f.offset;break;case"sw":i=e.left-c+20;j=e.top+h+f.offset;break;case"se":i=e.left+g-20;j=e.top+h+f.offset;break}return{x:Math.round(i),y:Math.round(j)}}function q(a,b){g.css("left",a+"px");g.css("top",b+"px")}var g=a("#"+f.popupId);if(g.length===0){g=a("<div></div>",{id:f.popupId});if(d.length===0){d=a("body")}d.append(g)}if(f.followMouse){if(!g.data("hasMouseMove")){b.on({mousemove:n,scroll:n})}g.data("hasMouseMove",true)}if(f.followMouse||f.mouseOnToPopup){g.on({mouseenter:function(){if(g.data("followMouse")||g.data("mouseOnToPopup")){if(e.activeHover){e.activeHover.data("displayController").cancel()}}},mouseleave:function(){if(g.data("mouseOnToPopup")){if(e.activeHover){e.activeHover.data("displayController").hide()}}}})}return{showTip:h,hideTip:l}}function h(){var c=0,d=0;if(!e.mouseTrackingActive){e.mouseTrackingActive=true;a(function(){c=b.scrollLeft();d=b.scrollTop()});b.on({mousemove:i,scroll:function(){var a=b.scrollLeft(),f=b.scrollTop();if(a!==c){e.currentX+=a-c;c=a}if(f!==d){e.currentY+=f-d;d=f}}})}}function i(a){e.currentX=a.pageX;e.currentY=a.pageY}function j(a){var b=a.offset();return e.currentX>=b.left&&e.currentX<=b.left+a.outerWidth()&&e.currentY>=b.top&&e.currentY<=b.top+a.outerHeight()}function k(a,b,d){var e=c.scrollLeft(),f=c.scrollTop(),g=c.width(),h=c.height(),i=[];if(a.y<f){i.push("top")}if(a.y+d>f+h){i.push("bottom")}if(a.x<e){i.push("left")}if(a.x+b>e+g){i.push("right")}return i}"use strict";var b=a(document),c=a(window),d=a("body");var e={isPopOpen:false,isFixedPopOpen:false,isClosing:false,popOpenImminent:false,activeHover:null,currentX:0,currentY:0,previousX:0,previousY:0,desyncTimeout:null,mouseTrackingActive:false};a.fn.powerTip=function(b){if(!this.length){return this}var c=a.extend({},a.fn.powerTip.defaults,b),d=new g(c);h();this.each(function(){var b=a(this),e=b.data("powertip"),g=b.data("powertipjq"),h=b.data("powertiptarget"),i=b.attr("title");if(!e&&!h&&!g&&i){b.data("powertip",i);b.removeAttr("title")}b.data("displayController",new f(b,c,d))});return this.on({mouseenter:function(b){i(b);e.previousX=b.pageX;e.previousY=b.pageY;a(this).data("displayController").show()},mouseleave:function(){a(this).data("displayController").hide()},focus:function(){var b=a(this);if(!j(b)){b.data("displayController").show(true)}},blur:function(){a(this).data("displayController").hide(true)}})};a.fn.powerTip.defaults={fadeInTime:200,fadeOutTime:100,followMouse:false,popupId:"powerTip",intentSensitivity:7,intentPollInterval:100,closeDelay:100,placement:"n",smartPlacement:false,offset:10,mouseOnToPopup:false};a.fn.powerTip.smartPlacementLists={n:["n","ne","nw","s"],e:["e","ne","se","w","nw","sw","n","s","e"],s:["s","se","sw","n"],w:["w","nw","sw","e","ne","se","n","s","w"],nw:["nw","w","sw","n","s","se","nw"],ne:["ne","e","se","n","s","sw","ne"],sw:["sw","w","nw","s","n","ne","sw"],se:["se","e","ne","s","n","nw","se"]};a.powerTip={showTip:function(b){a.powerTip.closeTip();b=b.first();if(!j(b)){b.data("displayController").show(true,true)}},closeTip:function(){b.triggerHandler("closePowerTip")}}})(jQuery)